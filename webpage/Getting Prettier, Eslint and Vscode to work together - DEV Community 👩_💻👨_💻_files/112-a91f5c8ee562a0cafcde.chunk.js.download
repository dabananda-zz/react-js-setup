(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{2:function(t,e,n){"use strict";n.d(e,"j",(function(){return h})),n.d(e,"h",(function(){return _})),n.d(e,"d",(function(){return b})),n.d(e,"f",(function(){return y})),n.d(e,"i",(function(){return v})),n.d(e,"e",(function(){return g})),n.d(e,"g",(function(){return j})),n.d(e,"a",(function(){return O})),n.d(e,"b",(function(){return x})),n.d(e,"c",(function(){return S}));var r,o,a,i=n(0),c=0,u=[],l=i.options.__b,s=i.options.__r,f=i.options.diffed,d=i.options.__c,p=i.options.unmount;function m(t,e){i.options.__h&&i.options.__h(o,t,c||e),c=0;var n=o.__H||(o.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function h(t){return c=1,_(P,t)}function _(t,e,n){var a=m(r++,2);return a.t=t,a.__c||(a.__=[n?n(e):P(void 0,e),function(t){var e=a.t(a.__[0],t);a.__[0]!==e&&(a.__=[e,a.__[1]],a.__c.setState({}))}],a.__c=o),a.__}function b(t,e){var n=m(r++,3);!i.options.__s&&L(n.__H,e)&&(n.__=t,n.__H=e,o.__H.__h.push(n))}function y(t,e){var n=m(r++,4);!i.options.__s&&L(n.__H,e)&&(n.__=t,n.__H=e,o.__h.push(n))}function v(t){return c=5,j((function(){return{current:t}}),[])}function g(t,e,n){c=6,y((function(){"function"==typeof t?t(e()):t&&(t.current=e())}),null==n?n:n.concat(t))}function j(t,e){var n=m(r++,7);return L(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function O(t,e){return c=8,j((function(){return t}),e)}function x(t){var e=o.context[t.__c],n=m(r++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(o)),e.props.value):t.__}function S(t,e){i.options.useDebugValue&&i.options.useDebugValue(e?e(t):t)}function w(){u.forEach((function(t){if(t.__P)try{t.__H.__h.forEach(E),t.__H.__h.forEach(T),t.__H.__h=[]}catch(o){t.__H.__h=[],i.options.__e(o,t.__v)}})),u=[]}i.options.__b=function(t){o=null,l&&l(t)},i.options.__r=function(t){s&&s(t),r=0;var e=(o=t.__c).__H;e&&(e.__h.forEach(E),e.__h.forEach(T),e.__h=[])},i.options.diffed=function(t){f&&f(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==u.push(e)&&a===i.options.requestAnimationFrame||((a=i.options.requestAnimationFrame)||function(t){var e,n=function(){clearTimeout(r),A&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);A&&(e=requestAnimationFrame(n))})(w)),o=null},i.options.__c=function(t,e){e.some((function(t){try{t.__h.forEach(E),t.__h=t.__h.filter((function(t){return!t.__||T(t)}))}catch(a){e.some((function(t){t.__h&&(t.__h=[])})),e=[],i.options.__e(a,t.__v)}})),d&&d(t,e)},i.options.unmount=function(t){p&&p(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(E)}catch(t){i.options.__e(t,e.__v)}};var A="function"==typeof requestAnimationFrame;function E(t){var e=o;"function"==typeof t.__c&&t.__c(),o=e}function T(t){var e=o;t.__c=t.__(),o=e}function L(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function P(t,e){return"function"==typeof e?e(t):e}},37:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c}));var r=n(2);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(u){c=!0,o=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var i=Object.freeze({Small:640,Medium:768,Large:1024}),c=function(t){var e=window.matchMedia(t),n=o(Object(r.j)(!!e.matches),2),a=n[0],i=n[1];return Object(r.d)((function(){var t=function(){i(!!e.matches)};return e.addListener(t),function(){return e.removeListener(t)}})),a}},38:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return m}));var r,o=n(2),a=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],i=function(t){var e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing")||e.getPropertyValue("-moz-box-sizing")||e.getPropertyValue("-webkit-box-sizing"),r=parseFloat(e.getPropertyValue("padding-bottom"))+parseFloat(e.getPropertyValue("padding-top")),o=parseFloat(e.getPropertyValue("border-bottom-width"))+parseFloat(e.getPropertyValue("border-top-width"));return{sizingStyle:a.map((function(t){return"".concat(t,":").concat(e.getPropertyValue(t))})).join(";"),paddingSize:r,borderSize:o,boxSizing:n}};function c(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(u){c=!0,o=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(t,e)||l(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var f=function(t,e){var n,r=document.body.getBoundingClientRect(),o=t.getBoundingClientRect(),a=o.top-r.top-t.scrollTop,i=o.left-r.left-t.scrollLeft,c=document.createElement("div"),u=getComputedStyle(t),s=function(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}(u);try{for(s.s();!(n=s.n()).done;){var f=n.value;c.style[f]=u[f]}}catch(_){s.e(_)}finally{s.f()}c.style.position="absolute",c.style.top="".concat(a,"px"),c.style.left="".concat(i,"px"),c.style.opacity=0;var d="INPUT"===t.tagName?t.value.replace(/ /g,"."):t.value;c.textContent=d.substr(0,e),"TEXTAREA"===t.tagName&&(c.style.height="auto"),"INPUT"===t.tagName&&(c.style.width="auto");var p=document.createElement("span");p.textContent=d.substr(e)||".",c.appendChild(p),document.body.appendChild(c);var m=p.offsetLeft,h=p.offsetTop;return document.body.removeChild(c),{x:i+m,y:a+h}},d=function(t){var e=t.selectionStart,n=t.value;if(0===e||""===n)return{isUserMention:!1,indexOfMentionStart:-1};var r=p(n,e);return{isUserMention:-1!==r,indexOfMentionStart:r}},p=function t(e,n){var r=e.charAt(n),o=e.charAt(n-1);return 0===n||[" ","","\n"].includes(o)?"@"===r?n:-1:t(e,n-1)},m=function(){var t=u(Object(o.j)(null),2),e=t[0],n=t[1],a=u(Object(o.j)(!1),2),l=a[0],s=a[1],f=u(Object(o.j)([]),2),d=f[0],p=f[1];return Object(o.d)((function(){if(e){var t=function(){var t=[e].concat(c(d)).map((function(t){return function(t){r||(r=document.createElement("textarea"),document.body.appendChild(r));var e=i(t),n=e.paddingSize,o=e.borderSize,a=e.boxSizing,c=e.sizingStyle;r.setAttribute("style","".concat(c,";").concat("\nmin-height:0 !important;\nmax-height:none !important;\nheight:0 !important;\nvisibility:hidden !important;\noverflow:hidden !important;\nposition:absolute !important;\nz-index:-1000 !important;\ntop:0 !important;\nright:0 !important\n")),r.value=t.value||t.placeholder||"x";var u=r.scrollHeight;return"border-box"===a?{height:u+o}:"content-box"===a?{height:u-n}:{height:u}}(t).height})),n=Math.max.apply(Math,c(t)),o="".concat(n,"px");[e].concat(c(d)).forEach((function(t){t.style["min-height"]=o,l&&(t.style["max-height"]=o)}))};return t(),e.addEventListener("input",t),function(){return e.removeEventListener("input",t)}}}),[e,d,l]),{setTextArea:n,setAdditionalElements:p,setConstrainToContentHeight:s}}},59:function(t,e,n){"use strict";n.r(e),n.d(e,"MentionAutocompleteTextArea",(function(){return j}));var r=n(0),o=n(2),a=n(5),i=n(1),c=n.n(i),u=n(49),l=function(t){var e=t.user;return Object(r.h)(r.Fragment,null,Object(r.h)("span",{className:"crayons-avatar crayons-avatar--l mr-2 shrink-0"},Object(r.h)("img",{src:e.profile_image_90,alt:"",className:"crayons-avatar__image "})),Object(r.h)("div",null,Object(r.h)("p",{className:"crayons-autocomplete__name"},e.name),Object(r.h)("p",{className:"crayons-autocomplete__username"},"@".concat(e.username))))};l.propTypes={user:c.a.shape({name:c.a.string,username:c.a.string,profile_image_90:c.a.string}).isRequired};var s=n(38),f=n(37),d=["replaceElement","fetchSuggestions","autoResize"],p=["onChange","onBlur","id"];function m(){return m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m.apply(this,arguments)}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(u){c=!0,o=u}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var j=Object(a.e)((function(t,e){var n=t.replaceElement,a=t.fetchSuggestions,i=t.autoResize,c=void 0!==i&&i,h=g(t,d),v=y(Object(o.j)(h.defaultValue?h.defaultValue:""),2),j=v[0],O=v[1],x=y(Object(o.j)(""),2),S=x[0],w=x[1],A=y(Object(o.j)({}),2),E=A[0],T=A[1],L=y(Object(o.j)({x:0,y:0}),2),P=L[0],C=L[1],H=y(Object(o.j)(0),2),z=H[0],M=H[1],I=y(Object(o.j)([]),2),N=I[0],V=I[1],F=y(Object(o.j)(null),2),R=F[0],k=F[1],U=y(Object(o.j)(""),2),q=U[0],D=U[1],B=y(Object(o.j)(!1),2),$=B[0],J=B[1],X=Object(f.b)("(max-width: ".concat(f.a.Small,"px)")),G=Object(o.i)(null),K=Object(o.i)(null),Q=Object(o.i)(null),W=Object(o.i)(null),Y=Object(s.c)(),Z=Y.setTextArea,tt=Y.setAdditionalElements,et=h.onChange,nt=h.onBlur,rt=h.id,ot=g(h,p);Object(o.f)((function(){c&&K.current&&G.current&&(Z(G.current),tt([K.current,W.current]))}),[c,Z,tt]),Object(o.d)((function(){S.length<2||(E[S]?V(E[S]):a(S).then((function(t){var e=t.result,n=Math.min(e.length,6),r=e.slice(0,n);T(_(_({},E),{},b({},S,r))),V(r),!q&&e.length>0&&D("Mention user, ".concat(e.length," results found"))})))}),[S,a,E,q]),Object(o.f)((function(){var t=Q.current;if(t){var e=function(e){if(!t.contains(e.target)){w(""),D(""),V([]);var n=K.current.selectionStart;K.current.classList.add("hidden"),G.current.classList.remove("hidden"),k(n+1)}};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}}),[S]),Object(o.f)((function(){var t=G.current,e=K.current,n=e.classList.contains("hidden")?t:e;($||document.activeElement===e||document.activeElement===t)&&(n.focus({preventScroll:!0}),n.setSelectionRange(R,R-1),J(!0))}),[R,$]);var at,it=function(t){var e=t.target.value;O(e);var n=!K.current.classList.contains("hidden"),r=n?K.current:G.current,o=Object(s.b)(r),a=o.isUserMention,i=o.indexOfMentionStart,c=r.selectionStart;if(a){var u=i+1,l=e.substring(u,c),f=Object(s.a)(r,i),d=f.x,p=f.y,m=r.offsetLeft;C({x:X?m:d,y:p}),w(l),M(u),n||(K.current.classList.remove("hidden"),G.current.classList.add("hidden"),k(c+1))}else S&&(w(""),D(""),V([]),n&&(K.current.classList.add("hidden"),G.current.classList.remove("hidden"),k(c+1)))};return Object(o.f)((function(){var t,e,r,o,a,i=K.current,c=G.current;i&&c&&n&&(e=(t={originalNodeToReplace:n,plainTextArea:c,comboboxTextArea:i}).originalNodeToReplace,r=[t.plainTextArea,t.comboboxTextArea],o=e.attributes,a=document.defaultView.getComputedStyle(e,"").cssText,r.forEach((function(t){Object.keys(o).forEach((function(e){t.setAttribute(o[e].name,o[e].value)})),t.style.cssText=a,t.style.transition="none",t.value=e.value})),e.remove(),c.focus({preventScroll:!0})),i.classList.add("hidden")}),[n]),Object(r.h)(r.Fragment,null,Object(r.h)("div",{"aria-live":"polite",class:"screen-reader-only"},q),Object(r.h)(u.a,{ref:W,id:"combobox-container","data-testid":"autocomplete-wrapper",onSelect:function(t){var e="".concat(j.substring(0,z)).concat(t," ").concat(j.substring(K.current.selectionStart));w(""),V([]),D(""),O(e),K.current.classList.add("hidden"),G.current.classList.remove("hidden"),null===et||void 0===et||et(e);var n=z+t.length+2;k(n)},className:"crayons-autocomplete".concat(c?" h-100":"")},Object(r.h)(u.b,m({},ot,{"data-gramm_editor":"false","aria-label":"Mention user",ref:K,value:j,"data-mention-autocomplete-active":"true",as:"textarea",autocomplete:!1,onChange:function(t){null===et||void 0===et||et(t),it(t)},onBlur:function(t){null===nt||void 0===nt||nt(t),K.current.classList.add("hidden"),G.current.classList.remove("hidden")}})),Object(r.h)("textarea",m({},ot,{"data-gramm_editor":"false",id:rt,"data-mention-autocomplete-active":"true",ref:(at=[G,e],function(t){at.forEach((function(e){e&&(e.current=t)}))}),onChange:function(t){null===et||void 0===et||et(t),it(t)},value:j})),S&&Object(r.h)(u.e,{ref:Q,className:"crayons-autocomplete__popover absolute",id:"mention-autocomplete-popover",style:{top:"calc(".concat(P.y,"px + ").concat("1.5rem"),left:"".concat(P.x,"px")}},N.length>0?Object(r.h)(u.c,null,N.map((function(t){return Object(r.h)(u.d,{key:t.username,value:t.username,className:"crayons-autocomplete__option flex items-center"},Object(r.h)(l,{user:t}))}))):Object(r.h)("span",{className:"crayons-autocomplete__empty"},S.length>=2?"No results found":"Type to search for a user"))))}));j.propTypes={replaceElement:c.a.node,fetchSuggestions:c.a.func.isRequired,autoResize:c.a.bool}}}]);
//# sourceMappingURL=112-a91f5c8ee562a0cafcde.chunk.js.map